CREATE TABLE LESSON_CHAPTER_COMMENT (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY,
    TEXT VARCHAR(10000),
    LESSON_CHAPTER_ID BIGINT NOT NULL,
    LESSON_CHAPTER_COMMENT_ID BIGINT NOT NULL,
    CREATED_AT TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    UPDATED_AT TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    IS_DELETED BOOLEAN DEFAULT FALSE,
    PRIMARY KEY (ID)
);

ALTER TABLE LESSON_CHAPTER_COMMENT ADD CONSTRAINT LESSON_CHAPTER_COMMENT__LESSON_CHAPTER FOREIGN KEY (LESSON_CHAPTER_ID) REFERENCES LESSON_CHAPTER;

ALTER TABLE LESSON_CHAPTER_COMMENT ADD CONSTRAINT LESSON_CHAPTER_COMMENT__LESSON_CHAPTER_COMMENT FOREIGN KEY (LESSON_CHAPTER_COMMENT_ID) REFERENCES LESSON_CHAPTER;
